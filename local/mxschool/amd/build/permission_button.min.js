define(["jquery","core/ajax","core/notification"],function(a,b,c){function d(b){var c=a(b.target),d=c.attr("value"),e=c.attr("name"),f=a(".mx-permission-text"+e+d);f.attr("name"),f.attr("value");if(""==f.text())f.text("Under Review"),f.css("color","dimgray"),c.text("Approve"),c.css("background-color","mediumseagreen"),c.css("border-color","mediumseagreen");else if("Under Review"==f.text())f.text("Approved"),f.css("color","mediumseagreen"),c.text("Undo"),c.css("background-color","dimgray"),c.css("border-color","dimgray");else{if("Approved"!=f.text())throw"Unrecognized permission text: "+f.text();f.text(""),c.text("Request Review"),c.css("background-color","steelblue"),c.css("border-color","steelblue")}}return function(b,c,e,f){var g=a(".mx-permission-button"+e+b),h=a(".mx-permission-text"+e+b);if(0==f)h.text(""),g.text("Request Review"),g.css("background-color","steelblue"),g.css("border-color","steelblue");else if(1==f)h.text("Under Review"),h.css("color","dimgray"),g.text("Approve"),g.css("background-color","mediumseagreen"),g.css("border-color","mediumseagreen");else{if(2!=f)throw"Unrecognized permission value in database: "+f+" for "+e;h.text("Approved"),h.css("color","mediumseagreen"),g.text("Undo"),g.css("background-color","dimgray"),g.css("border-color","dimgray")}g.click(d)}});