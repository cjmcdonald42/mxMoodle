define(["jquery","core/ajax","core/notification"],function(a,b,c){function d(b){var c=a(b.target).attr("name"),d=a(b.target).attr("value");a(".mx-comment-text"+d+c).hide(),a(".mx-comment-edit-button"+d+c).hide(),a(".mx-comment-edit-area"+d+c).val(a(".mx-comment-text"+d+c).text()),a(".mx-comment-edit-area"+d+c).show(),a(".mx-comment-save-button"+d+c).show()}function e(){var d=a(event.target).attr("name"),e=a(event.target).attr("value"),f=a(".mx-comment-edit-area"+e+d).val(),g=a(".mx-comment-edit-area"+e+d).attr("name"),h=b.call([{methodname:"local_mxschool_update_comment",args:{id:e,text:f,table:g}}]);h[0].done().fail(c.exception),a(".mx-comment-text"+e+d).text(f),a(".mx-comment-text"+e+d).show(),a(".mx-comment-edit-button"+e+d).show(),a(".mx-comment-edit-area"+e+d).hide(),a(".mx-comment-save-button"+e+d).hide()}return function(b,c,f){var g=a(".mx-comment-edit-button"+b+c),h=a(".mx-comment-edit-area"+b+c),i=a(".mx-comment-save-button"+b+c),j=a(".mx-comment-text"+b+c);j.show(),h.hide(),i.hide(),g.click(d),i.click(e)}});